"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _update = _interopRequireDefault(require("./transaction/update"));
var _initialise = _interopRequireDefault(require("./transaction/initialise"));
var _constants = require("./constants");
var _contentTypes = require("./contentTypes");
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function createHandler(Transaction) {
    return function(request, response, next) {
        var body = request.body;
        var json = body; ///
        var transaction = Transaction.fromJSON(json);
        json = transaction.toJSON();
        var statusCode = 200, headers = {
        }, content = JSON.stringify(json);
        headers[_constants.CONTENT_TYPE] = _contentTypes.APPLICATION_JSON_CHARSET_UTF_8_CONTENT_TYPE;
        response.writeHead(statusCode, headers);
        response.write(content);
        response.end();
    };
}
var updateTransactionHandler = createHandler(_update.default);
var initialiseTransactionHandler = createHandler(_initialise.default);
var _default = {
    updateTransactionHandler: updateTransactionHandler,
    initialiseTransactionHandler: initialiseTransactionHandler
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9oYW5kbGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBVcGRhdGVUcmFuc2FjdGlvbiBmcm9tIFwiLi90cmFuc2FjdGlvbi91cGRhdGVcIjtcclxuaW1wb3J0IEluaXRpYWxpc2VUcmFuc2FjdGlvbiBmcm9tIFwiLi90cmFuc2FjdGlvbi9pbml0aWFsaXNlXCI7XHJcblxyXG5pbXBvcnQgeyBDT05URU5UX1RZUEUgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgQVBQTElDQVRJT05fSlNPTl9DSEFSU0VUX1VURl84X0NPTlRFTlRfVFlQRSB9IGZyb20gXCIuL2NvbnRlbnRUeXBlc1wiO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlSGFuZGxlcihUcmFuc2FjdGlvbikge1xyXG4gIHJldHVybiBmdW5jdGlvbihyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSByZXF1ZXN0O1xyXG5cclxuICAgIGxldCBqc29uID0gYm9keTsgIC8vL1xyXG5cclxuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gVHJhbnNhY3Rpb24uZnJvbUpTT04oanNvbik7XHJcblxyXG4gICAganNvbiA9IHRyYW5zYWN0aW9uLnRvSlNPTigpO1xyXG5cclxuICAgIGNvbnN0IHN0YXR1c0NvZGUgPSAyMDAsXHJcbiAgICAgICAgICBoZWFkZXJzID0ge30sXHJcbiAgICAgICAgICBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoanNvbik7XHJcblxyXG4gICAgaGVhZGVyc1tDT05URU5UX1RZUEVdID0gQVBQTElDQVRJT05fSlNPTl9DSEFSU0VUX1VURl84X0NPTlRFTlRfVFlQRTtcclxuXHJcbiAgICByZXNwb25zZS53cml0ZUhlYWQoc3RhdHVzQ29kZSwgaGVhZGVycyk7XHJcblxyXG4gICAgcmVzcG9uc2Uud3JpdGUoY29udGVudCk7XHJcblxyXG4gICAgcmVzcG9uc2UuZW5kKCk7XHJcbiAgfTtcclxufVxyXG5cclxuY29uc3QgdXBkYXRlVHJhbnNhY3Rpb25IYW5kbGVyID0gY3JlYXRlSGFuZGxlcihVcGRhdGVUcmFuc2FjdGlvbik7XHJcbmNvbnN0IGluaXRpYWxpc2VUcmFuc2FjdGlvbkhhbmRsZXIgPSBjcmVhdGVIYW5kbGVyKEluaXRpYWxpc2VUcmFuc2FjdGlvbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgdXBkYXRlVHJhbnNhY3Rpb25IYW5kbGVyLFxyXG4gIGluaXRpYWxpc2VUcmFuc2FjdGlvbkhhbmRsZXJcclxufTtcclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFVBQVk7Ozs7O0FBRWtCLEdBQXNCLENBQXRCLE9BQXNCO0FBQ2xCLEdBQTBCLENBQTFCLFdBQTBCO0FBRS9CLEdBQWEsQ0FBYixVQUFhO0FBQ2tCLEdBQWdCLENBQWhCLGFBQWdCOzs7Ozs7U0FFbkUsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUNuQixPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDO1FBQ3hDLEdBQUssQ0FBRyxJQUFJLEdBQUssT0FBTyxDQUFoQixJQUFJO1FBRVosR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUcsQ0FBRyxBQUFILEVBQUcsQUFBSCxDQUFHO1FBRXJCLEdBQUssQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJO1FBRTdDLElBQUksR0FBRyxXQUFXLENBQUMsTUFBTTtRQUV6QixHQUFLLENBQUMsVUFBVSxHQUFHLEdBQUcsRUFDaEIsT0FBTztXQUNQLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUk7UUFFbkMsT0FBTyxDQWpCa0IsVUFBYSxpQkFDa0IsYUFBZ0I7UUFrQnhFLFFBQVEsQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLE9BQU87UUFFdEMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPO1FBRXRCLFFBQVEsQ0FBQyxHQUFHO0lBQ2QsQ0FBQztBQUNILENBQUM7QUFFRCxHQUFLLENBQUMsd0JBQXdCLEdBQUcsYUFBYSxDQTlCaEIsT0FBc0I7QUErQnBELEdBQUssQ0FBQyw0QkFBNEIsR0FBRyxhQUFhLENBOUJoQixXQUEwQjs7SUFpQzFELHdCQUF3QixFQUF4Qix3QkFBd0I7SUFDeEIsNEJBQTRCLEVBQTVCLDRCQUE0QiJ9